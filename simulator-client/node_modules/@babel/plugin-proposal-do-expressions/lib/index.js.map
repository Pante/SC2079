{"version":3,"names":["_helperPluginUtils","require","_pluginSyntaxDoExpressions","_default","exports","default","declare","api","assertVersion","name","inherits","syntaxDoExpressions","visitor","DoExpression","exit","path","node","async","body","length","replaceExpressionWithStatements","replaceWith","scope","buildUndefinedNode"],"sources":["../src/index.ts"],"sourcesContent":["import { declare } from \"@babel/helper-plugin-utils\";\nimport syntaxDoExpressions from \"@babel/plugin-syntax-do-expressions\";\n\nexport default declare(api => {\n  api.assertVersion(\n    process.env.BABEL_8_BREAKING && process.env.IS_PUBLISH\n      ? PACKAGE_JSON.version\n      : 7,\n  );\n\n  return {\n    name: \"proposal-do-expressions\",\n    inherits: syntaxDoExpressions,\n\n    visitor: {\n      DoExpression: {\n        exit(path) {\n          const { node } = path;\n          if (node.async) {\n            // Async do expressions are not yet supported\n            return;\n          }\n          const body = node.body.body;\n          if (body.length) {\n            path.replaceExpressionWithStatements(body);\n          } else {\n            path.replaceWith(path.scope.buildUndefinedNode());\n          }\n        },\n      },\n    },\n  };\n});\n"],"mappings":";;;;;;AAAA,IAAAA,kBAAA,GAAAC,OAAA;AACA,IAAAC,0BAAA,GAAAD,OAAA;AAAsE,IAAAE,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEvD,IAAAC,0BAAO,EAACC,GAAG,IAAI;EAC5BA,GAAG,CAACC,aAAa,CAGX,CACN,CAAC;EAED,OAAO;IACLC,IAAI,EAAE,yBAAyB;IAC/BC,QAAQ,EAAEC,kCAAmB;IAE7BC,OAAO,EAAE;MACPC,YAAY,EAAE;QACZC,IAAIA,CAACC,IAAI,EAAE;UACT,MAAM;YAAEC;UAAK,CAAC,GAAGD,IAAI;UACrB,IAAIC,IAAI,CAACC,KAAK,EAAE;YAEd;UACF;UACA,MAAMC,IAAI,GAAGF,IAAI,CAACE,IAAI,CAACA,IAAI;UAC3B,IAAIA,IAAI,CAACC,MAAM,EAAE;YACfJ,IAAI,CAACK,+BAA+B,CAACF,IAAI,CAAC;UAC5C,CAAC,MAAM;YACLH,IAAI,CAACM,WAAW,CAACN,IAAI,CAACO,KAAK,CAACC,kBAAkB,CAAC,CAAC,CAAC;UACnD;QACF;MACF;IACF;EACF,CAAC;AACH,CAAC,CAAC"}